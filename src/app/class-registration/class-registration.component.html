<div class="container">
  <div class="row">
    <div class="col">
      <h2>Haga click en una imagen para filtrar</h2>
    </div>
  </div>
  <div class="row classes">
    <div class="col text-center class-square" (click)="filterClass(1)" [ngClass]="{'selected' : classFilterSelected === 1}">
      <img class="img-fluid" src="assets/images/kids.jpg">
      <h4 class="class-title">Infantil</h4>
    </div>
    <div class="col text-center class-square" (click)="filterClass(2)" [ngClass]="{'selected' : classFilterSelected === 2}">
      <img class="img-fluid" src="assets/images/newbie.jpg">
      <h4 class="class-title">Principiantes</h4>
    </div>
    <div class="col text-center class-square" (click)="filterClass(3)" [ngClass]="{'selected' : classFilterSelected === 3}">
      <img class="img-fluid" src="assets/images/advanced.jpg">
      <h4 class="class-title">Avanzados</h4>
    </div>
    <div class="col text-center class-square" (click)="filterClass(4)" [ngClass]="{'selected' : classFilterSelected === 4}">
      <img class="img-fluid" src="assets/images/back-pain.jpg">
      <h4 class="class-title">Espalda</h4>
    </div>
    <div class="col text-center class-square" (click)="filterClass(5)" [ngClass]="{'selected' : classFilterSelected === 5}">
      <img class="img-fluid" src="assets/images/aquagym.jpg">
      <h4 class="class-title">Aquagym</h4>
    </div>
  </div>
  <div class="row">
    <div class="col-sm-6 col-md-4 col-lg-3 mb-3" *ngFor="let class of classes | classFilter : classFilterSelected">
      <div class="card">
        <div class="card-body">
          <h5 class="card-title">{{ class.nombre }}</h5>
          <h6 class="card-subtitle mb-2 text-muted">{{ class.hora }}</h6>
          <p class="card-text mb-0">{{ class.dias }}</p>
          <p class="card-text mb-0">Nivel: {{ class.nivel }}</p>
          <p class="card-text">Plazas disponibles: {{ +class.num_plazas - +class.plazas_ocupadas}}/{{ class.num_plazas }}</p>
          <a class="card-link" (click)="newMember(class.id, login, register)">REGISTRO</a>
        </div>
      </div>
    </div>
  </div>
</div>

<ng-template #login>
  <div class="modal-header">
    <h4 class="modal-title pull-left">Se requiere Login</h4>
    <button type="button" class="close pull-right" aria-label="Close" (click)="loginModalRef.hide()">
      <span aria-hidden="true">&times;</span>
    </button>
  </div>
  <div class="modal-body">
    Debe estar logeado para registrarse en una clase.
  </div>
</ng-template>

<ng-template #register>
  <div class="modal-header">
    <h4 class="modal-title pull-left">{{ clickedClass.nombre }}</h4>
    <button type="button" class="close pull-right" aria-label="Close" (click)="registerModalRef.hide()">
      <span aria-hidden="true">&times;</span>
    </button>
  </div>
  <div class="modal-body">
    Confirme que desea registrarse en {{ clickedClass.nombre }} a las {{ clickedClass.hora }}
  </div>
</ng-template>